(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{549:function(s,a,e){"use strict";e.r(a),e=e(4),e=Object(e.a)({},(function(){var s=this,a=s.$createElement;return(a=s._self._c||a)("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"下载wiki项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载wiki项目"}},[s._v("#")]),s._v(" 下载wiki项目")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/Requarks/wiki/releases/latest/download/wiki-js.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/wikijs/image-20231205162111669.png",alt:"image-20231205162111669"}})]),s._v(" "),a("h2",{attrs:{id:"创建wiki目录-将项目文件剪切至wiki目录中解压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建wiki目录-将项目文件剪切至wiki目录中解压缩"}},[s._v("#")]),s._v(" 创建wiki目录 将项目文件剪切至wiki目录中解压缩")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" wiki\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" wiki-js.tar.gz wiki\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxf wiki-js.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/wikijs/image-20231205162636496.png",alt:"image-20231205162636496"}})]),s._v(" "),a("h2",{attrs:{id:"修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置"}},[s._v("#")]),s._v(" 修改配置")]),s._v(" "),a("p",[s._v("将示例配置文件重命名为："),a("code",[s._v("config.yml")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" config.sample.yml config.yml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("编辑配置"),a("code",[s._v("config.yml")]),s._v("文件，本教程所使用的数据库为sqlite "),a("a",{attrs:{href:"https://zhonglin8659.gitee.io/views/xi-tong/2023/sqlite3.html#linux%E5%AE%89%E8%A3%85sqlite3",target:"_blank",rel:"noopener noreferrer"}},[s._v("sqlite安装"),a("OutboundLink")],1),s._v("，其他数据库请自行参考官方文档。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" config.yml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/wikijs/image-20231205163233141.png",alt:"image-20231205163233141"}})]),s._v(" "),a("p",[s._v("按大写 "),a("code",[s._v("I")]),s._v(" 进入编辑模式，修改db层为如下内容。")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" sqlite\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("storage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" db.sqlite\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/wikijs/image-20231205165307260.png",alt:"image-20231205165307260"}})]),s._v(" "),a("p",[s._v("按 "),a("code",[s._v("esc")]),s._v(" 进入非编辑模式后按 "),a("code",[s._v("shift+:")]),s._v(" 输入"),a("code",[s._v("wq")]),s._v(" 保存内容")]),s._v(" "),a("h2",{attrs:{id:"启动wiki服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动wiki服务"}},[s._v("#")]),s._v(" 启动wiki服务")]),s._v(" "),a("p",[s._v("wiki程序需要使用node服务启动 可以参考我的"),a("a",{attrs:{href:"https://zhonglin8659.gitee.io/views/xi-tong/2022/linux.html#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF",target:"_blank",rel:"noopener noreferrer"}},[s._v("node安装教程"),a("OutboundLink")],1),s._v(" 或其他网络教程")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("node server/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/wikijs/image-20231205173230476.png",alt:"image-20231205173230476"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/wikijs/image-20231205173345026.png",alt:"image-20231205173345026"}})]),s._v(" "),a("h2",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[s._v("#")]),s._v(" 常见问题")]),s._v(" "),a("h3",{attrs:{id:"sqlite问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sqlite问题"}},[s._v("#")]),s._v(" sqlite问题")]),s._v(" "),a("p",[s._v("在使用sqlite3作为wiki数据库时，官方所下载wiki程序中的node_modules并没有sqlite3依赖，需要安装，由于国内网络限制默认的npm拉取通常会失败。\n可以参考以下方案：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("安装淘宝镜像")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g cnpm --registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("使用淘宝镜像再次拉取依赖")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("cnpm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/wikijs/image-20231205174057491.png",alt:"image-20231205174057491"}})])]),s._v(" "),a("li",[a("p",[s._v("再次以node启动wiki服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("node server/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"服务自启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务自启"}},[s._v("#")]),s._v(" 服务自启")]),s._v(" "),a("p",[s._v("本教程暂不提供自启方案，请自行查找node进程托管服务或wiki官方提供的教程")])])}),[],!1,null,null,null),a.default=e.exports}}]);