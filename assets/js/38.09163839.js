(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{563:function(s,a,t){"use strict";t.r(a),t=t(4),t=Object(t.a)({},(function(){var s=this,a=s.$createElement;return(a=s._self._c||a)("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("这里以ubuntu20.04.6-desktop最小安装纯净系统作为演示 显卡为：NVIDIA Quadro M2000M")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/hardware/ubuntu0.png",alt:"ubuntu0"}})]),s._v(" "),a("h2",{attrs:{id:"禁用nouveau开源驱动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#禁用nouveau开源驱动"}},[s._v("#")]),s._v(" 禁用NOUVEAU开源驱动")]),s._v(" "),a("p",[s._v("备份linux黑名单文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /etc/modprobe.d/blacklist.conf /etc/modprobe.d/blacklistbackup.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("修改linux黑名单文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/modprobe.d/blacklist.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在最后一行添加如下内容：")]),s._v(" "),a("div",{staticClass:"language-conf line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("blacklist nouveau\noptions nouveau modeset=0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/hardware/ubuntu1.png",alt:"ubuntu1"}})]),s._v(" "),a("h2",{attrs:{id:"更新使其生效后重启设备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新使其生效后重启设备"}},[s._v("#")]),s._v(" 更新使其生效后重启设备")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("update-initramfs -u\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"查看是否禁用成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看是否禁用成功"}},[s._v("#")]),s._v(" 查看是否禁用成功")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lsmod "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" nouveau\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("没有输出内容即可")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/hardware/ubuntu2.png",alt:"ubuntu2"}})]),s._v(" "),a("h2",{attrs:{id:"下载nvidia驱动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载nvidia驱动"}},[s._v("#")]),s._v(" 下载NVIDIA驱动")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.nvidia.cn/Download/index.aspx?lang=cn",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.nvidia.cn/Download/index.aspx?lang=cn"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/hardware/ubuntu3.png",alt:"ubuntu3"}})]),s._v(" "),a("h2",{attrs:{id:"安装gcc编译环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装gcc编译环境"}},[s._v("#")]),s._v(" 安装GCC编译环境")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"安装make编译环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装make编译环境"}},[s._v("#")]),s._v(" 安装MAKE编译环境")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"安装可执行驱动文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装可执行驱动文件"}},[s._v("#")]),s._v(" 安装可执行驱动文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x NVIDIA-Linux-x86_64-535.146.02.run\n./NVIDIA-Linux-x86_64-535.146.02.run\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/hardware/ubuntu4.png",alt:"ubuntu4"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/hardware/ubuntu5.png",alt:"ubuntu5"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/hardware/ubuntu6.png",alt:"ubuntu6"}})]),s._v(" "),a("h2",{attrs:{id:"安装完成后重启设备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装完成后重启设备"}},[s._v("#")]),s._v(" 安装完成后重启设备")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"检测是否安装成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检测是否安装成功"}},[s._v("#")]),s._v(" 检测是否安装成功")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("nvidia-smi\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/hardware/ubuntu7.png",alt:"ubuntu7"}})]),s._v(" "),a("h2",{attrs:{id:"安装nvidia工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装nvidia工具"}},[s._v("#")]),s._v(" 安装NVIDIA工具")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nvidia-settings\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nvidia-prime\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"切换独立显卡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#切换独立显卡"}},[s._v("#")]),s._v(" 切换独立显卡")]),s._v(" "),a("p",[s._v("打开NVIDIA X Server Settings点击PRIME Profiles切换到"),a("code",[s._v("NVIDIA(Performance Mode)")]),s._v("选项后重启设备")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://sugarys.oss-cn-beijing.aliyuncs.com/document/hardware/ubuntu8.png",alt:"ubuntu8"}})]),s._v(" "),a("h2",{attrs:{id:"添加调用环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加调用环境"}},[s._v("#")]),s._v(" 添加调用环境")]),s._v(" "),a("p",[a("strong",[s._v("部分系统与软件无法调用独立显卡，请执行以下命令或者加入用户变量中。")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("VK_ICD_FILENAMES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/share/vulkan/icd.d/nvidia_icd.json"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"备注"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#备注"}},[s._v("#")]),s._v(" 备注")]),s._v(" "),a("h3",{attrs:{id:"linux显卡测试软件glmark2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux显卡测试软件glmark2"}},[s._v("#")]),s._v(" linux显卡测试软件glmark2")]),s._v(" "),a("h4",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" glmark2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("glmark2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"双系统设置windows为默认"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#双系统设置windows为默认"}},[s._v("#")]),s._v(" 双系统设置windows为默认")]),s._v(" "),a("p",[a("code",[s._v("常规windows10+ubuntu20双系统下开机默认四个选项，顺序代号分别为0、1、2、3")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /boot/grup/grup.cfg\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("将 "),a("code",[s._v("set default = 0")]),s._v(" 改为 "),a("code",[s._v("set default = 2")]),s._v(" 开机默认为windows 有8秒选择时间")])])}),[],!1,null,null,null),a.default=t.exports}}]);