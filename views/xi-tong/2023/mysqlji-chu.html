<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql基础 | SugarysBlog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="https://sugarys.oss-cn-beijing.aliyuncs.com/staticresources/favicon.ico">
    <meta name="description" content="兜里有糖">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.54ce2a26.css" as="style"><link rel="preload" href="/assets/js/app.e969e95b.js" as="script"><link rel="preload" href="/assets/js/3.094725b1.js" as="script"><link rel="preload" href="/assets/js/1.ff76c098.js" as="script"><link rel="preload" href="/assets/js/24.000fb0a0.js" as="script"><link rel="preload" href="/assets/js/9.601bab32.js" as="script"><link rel="prefetch" href="/assets/js/10.50fec051.js"><link rel="prefetch" href="/assets/js/11.bfab7f66.js"><link rel="prefetch" href="/assets/js/12.cf7bacd5.js"><link rel="prefetch" href="/assets/js/13.a73b7394.js"><link rel="prefetch" href="/assets/js/14.aaa9584d.js"><link rel="prefetch" href="/assets/js/15.3cab4cff.js"><link rel="prefetch" href="/assets/js/16.d6fd5c5a.js"><link rel="prefetch" href="/assets/js/17.d37fcc0a.js"><link rel="prefetch" href="/assets/js/18.519a1fc7.js"><link rel="prefetch" href="/assets/js/19.37d129a8.js"><link rel="prefetch" href="/assets/js/20.49de9939.js"><link rel="prefetch" href="/assets/js/21.99a2fabb.js"><link rel="prefetch" href="/assets/js/22.2e0529e7.js"><link rel="prefetch" href="/assets/js/23.12ee2461.js"><link rel="prefetch" href="/assets/js/25.8a7b8f78.js"><link rel="prefetch" href="/assets/js/26.7780e88d.js"><link rel="prefetch" href="/assets/js/27.d79a92f4.js"><link rel="prefetch" href="/assets/js/28.518b31c2.js"><link rel="prefetch" href="/assets/js/29.ed1d6f6e.js"><link rel="prefetch" href="/assets/js/30.d14365c1.js"><link rel="prefetch" href="/assets/js/31.6328d618.js"><link rel="prefetch" href="/assets/js/32.22865539.js"><link rel="prefetch" href="/assets/js/33.9e628bb7.js"><link rel="prefetch" href="/assets/js/34.5490a5d0.js"><link rel="prefetch" href="/assets/js/35.c39fed66.js"><link rel="prefetch" href="/assets/js/36.9996824d.js"><link rel="prefetch" href="/assets/js/37.7381b674.js"><link rel="prefetch" href="/assets/js/38.09163839.js"><link rel="prefetch" href="/assets/js/39.84f4f4a2.js"><link rel="prefetch" href="/assets/js/4.c860db15.js"><link rel="prefetch" href="/assets/js/40.c66adcef.js"><link rel="prefetch" href="/assets/js/41.fb795dbd.js"><link rel="prefetch" href="/assets/js/42.a714fc88.js"><link rel="prefetch" href="/assets/js/43.14fce449.js"><link rel="prefetch" href="/assets/js/44.07597a10.js"><link rel="prefetch" href="/assets/js/5.f3955a84.js"><link rel="prefetch" href="/assets/js/6.2da1c4b4.js"><link rel="prefetch" href="/assets/js/7.0d026352.js"><link rel="prefetch" href="/assets/js/8.b073709a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.54ce2a26.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>SugarysBlog</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>兜里有糖</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>兜里有糖</span>
            
          <span data-v-25ba6db2>2021 - </span>
          2024
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/staticresources/logo.png" alt="SugarysBlog" class="logo"> <span class="site-name">SugarysBlog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/笔记/" class="nav-link"><i class="undefined"></i>
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/categories/系统/" class="nav-link"><i class="undefined"></i>
  系统
</a></li><li class="dropdown-item"><!----> <a href="/categories/运维/" class="nav-link"><i class="undefined"></i>
  运维
</a></li><li class="dropdown-item"><!----> <a href="/categories/网络/" class="nav-link"><i class="undefined"></i>
  网络
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/note/" class="nav-link"><i class="iconfont reco-document"></i>
  笔记
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/staticresources/author.jpg" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    兜里有糖
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>30</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>11</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/笔记/" class="nav-link"><i class="undefined"></i>
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/categories/系统/" class="nav-link"><i class="undefined"></i>
  系统
</a></li><li class="dropdown-item"><!----> <a href="/categories/运维/" class="nav-link"><i class="undefined"></i>
  运维
</a></li><li class="dropdown-item"><!----> <a href="/categories/网络/" class="nav-link"><i class="undefined"></i>
  网络
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/note/" class="nav-link"><i class="iconfont reco-document"></i>
  笔记
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>mysql基础</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>兜里有糖</span>
            
          <span data-v-25ba6db2>2021 - </span>
          2024
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">mysql基础</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>兜里有糖</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2023/12/15</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>数据库</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="navicat基本使用"><a href="#navicat基本使用" class="header-anchor">#</a> navicat基本使用</h2> <ul><li>连接到mysql</li></ul> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570496523795.png" alt="1570496523795"></p> <ul><li>连接到mysql之后,首先要创建数据库</li> <li>用鼠标右键选择新建数据库</li></ul> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570496731511.png" alt="1570496731511"></p> <ul><li>打开数据库,新建查询</li></ul> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570496856448.png" alt="1570496856448"></p> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570496933875.png" alt="1570496933875"></p> <ul><li>看到如下结果,代表navicat连接mysql设置成功</li></ul> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570496970979.png" alt="1570496970979"></p> <h2 id="sql语言中的注释"><a href="#sql语言中的注释" class="header-anchor">#</a> sql语言中的注释</h2> <ul><li>-- 行注释</li> <li>/*  注释内容 */</li></ul> <h2 id="mysql的常用数据类型"><a href="#mysql的常用数据类型" class="header-anchor">#</a> mysql的常用数据类型</h2> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570499927972.png" alt="1570499927972"></p> <h2 id="数据库中的元素"><a href="#数据库中的元素" class="header-anchor">#</a> 数据库中的元素</h2> <ul><li>数据库-----database</li> <li>表----table</li> <li>字段(列)---field</li> <li>记录(行)---record</li></ul> <h2 id="创建表"><a href="#创建表" class="header-anchor">#</a> 创建表</h2> <ul><li>语法:create table 表名(字段名 字段类型, 字段名 字段类型)</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：创建表 a，字段要求:name(姓名)，数据类型：varchar(字符串)，长度为 10</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> a<span class="token punctuation">(</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>创建两个字段的表</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：创建表 b，字段要求: name(姓名),数据类型为 varchar(字符串)，长度为 10； </span>
<span class="token comment">-- height(身高)，数据类型为 decimal(小数），一共 5 位, 其中 3 位整数，2 位 小数。</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> b<span class="token punctuation">(</span>
	name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	height <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>创建三个字段的表</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 3：创建表 c，字段要求如下：</span>
<span class="token comment">-- id：数据类型为 int (整数)； </span>
<span class="token comment">-- name 姓名：数据类型为 varchar(字符串)长度为 20， </span>
<span class="token comment">-- age 年龄：数据类型为 tinyint unsigned（无符号小整数）；</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> c<span class="token punctuation">(</span>
	id <span class="token keyword">int</span><span class="token punctuation">,</span>
	name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	age <span class="token keyword">TINYINT</span> <span class="token keyword">UNSIGNED</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="插入数据"><a href="#插入数据" class="header-anchor">#</a> 插入数据</h2> <ul><li>语法 : insert into 表名 values (值, 值,值);</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 往表c插入一条记录</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> c <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'张飞'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>指定字段插入,语法:insert into 表名 (字段名, 字段名) values (值, 值);</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：表 c 插入一条记录，只设置 id 和姓名 name</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> c <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'曹操'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：表 c 插入一条记录，只设置 id 和姓名 age</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> c <span class="token punctuation">(</span>id<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="插入多条记录"><a href="#插入多条记录" class="header-anchor">#</a> 插入多条记录</h2> <ul><li>多条insert语句,用分号隔开</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 3：表 c 插入三条记录，写三条 insert 语句, 语句之间用分号隔开</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> c <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'周瑜'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> c <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'鲁肃'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> c <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'诸葛亮'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>一条insert插入多条记录</li> <li>语法:insert into 表名 values (值,值),(值, 值),(值,值);</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 4：表 c 插入多条记录，用一条 insert 语句, 数据之间用逗号隔开</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> c <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>一条insert指定字段插入多条记录</li> <li>语法:insert into 表名 (字段名, 字段名) values (值, 值), (值, 值), (值, 值)</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 4：表 c 插入多条记录，用一条 insert 语句, 数据之间用逗号隔开</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> c <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">'光绪'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token string">'康熙'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">'雍正'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="select查询表"><a href="#select查询表" class="header-anchor">#</a> select查询表</h2> <h4 id="查询所有字段"><a href="#查询所有字段" class="header-anchor">#</a> 查询所有字段</h4> <ul><li><p>语法: select * from 表名;</p></li> <li><p>查询表的所有字段</p></li></ul> <div class="language-cmd line-numbers-mode"><pre class="language-text"><code>-- 查询表c的所有字段
select * from c;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="指定字段名查询"><a href="#指定字段名查询" class="header-anchor">#</a> 指定字段名查询</h4> <ul><li>语法:select 字段名, 字段名 from 表名;</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询表c的id字段</span>
<span class="token keyword">select</span> id <span class="token keyword">from</span> c<span class="token punctuation">;</span>
<span class="token comment">-- 查询表c的id和age字段</span>
<span class="token keyword">select</span> id<span class="token punctuation">,</span> age <span class="token keyword">from</span> c<span class="token punctuation">;</span>
<span class="token comment">-- 查询表c的所有字段,但顺序自定义</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span> id<span class="token punctuation">,</span> age <span class="token keyword">from</span> c<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="update修改数据"><a href="#update修改数据" class="header-anchor">#</a> update修改数据</h2> <ul><li>语法:update 表名 set 字段=值, 字段=值 where 条件
<ul><li>如果没有where 条件代表修改表中所有的记录</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：修改表 c，所有人的年龄(age 字段)改为 50</span>
<span class="token keyword">update</span> c <span class="token keyword">set</span> age <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>带有条件的update语句</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：修改表 c，</span>
<span class="token comment">-- id 为 3 的记录，</span>
<span class="token comment">-- 姓名(name 字段)改为 ‘狄仁杰‘，年龄(age 字段)改为 20</span>

<span class="token keyword">update</span> c <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'狄仁杰'</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">20</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>另外的例子</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 修改name为刘备的记录为李白</span>
<span class="token keyword">update</span> c <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'李白'</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'刘备'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- id大于10的记录,长一岁</span>
<span class="token keyword">update</span> c <span class="token keyword">set</span> age <span class="token operator">=</span> age <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">where</span> id <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="delete删除记录"><a href="#delete删除记录" class="header-anchor">#</a> delete删除记录</h2> <ul><li>语法:'delete from 表名 where 条件'</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：删除表 c 中 id 为 6 的记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> c <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：删除表 c 中 name 为 诸葛亮 的记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> c <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'诸葛亮'</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除年龄大于50的记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> c <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除id小于3的记录</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> c <span class="token keyword">where</span> id <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除所有记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> c<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="truncate-table删除表的数据"><a href="#truncate-table删除表的数据" class="header-anchor">#</a> truncate table删除表的数据</h2> <ul><li>truncate table 表名</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 删除表c中所有的记录</span>
<span class="token keyword">truncate</span> <span class="token keyword">table</span> c<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570521762234.png" alt="1570521762234"></p> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <ul><li>增
<ul><li>insert</li></ul></li> <li>删
<ul><li>delete</li></ul></li> <li>改
<ul><li>update</li></ul></li> <li>查
<ul><li>select</li></ul></li></ul> <h2 id="删除表"><a href="#删除表" class="header-anchor">#</a> 删除表</h2> <ul><li>语法一: drop table 表名</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 删除表a</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> a<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>语法二: drop table if exists 表名</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 如果表a存在,就删除表a,如果不存在,什么也不做</span>
<span class="token keyword">DROP</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">EXISTS</span> a<span class="token punctuation">;</span>

<span class="token comment">-- 如果表b存在,就删除表b,如果不存在,什么也不做</span>
<span class="token keyword">DROP</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">EXISTS</span> b<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="字段的约束"><a href="#字段的约束" class="header-anchor">#</a> 字段的约束</h2> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570522571965.png" alt="1570522571965"></p> <h2 id="主键"><a href="#主键" class="header-anchor">#</a> 主键</h2> <ul><li>主键的值不能重复</li> <li>自增长,auto_increment
<ul><li>值会系统自动维护,自动增长</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：创建表 d，字段要求如下： </span>
<span class="token comment">-- id ： 数 据 类 型 为 </span>
<span class="token comment">-- int unsigned( 无 符 号 整 数 ) ） ,primary key( 主键),auto_increment(自增长)； </span>
<span class="token comment">-- name 姓名：数据类型为 varchar(字符串)长度为 10; </span>
<span class="token comment">-- age 年龄：数据类型为 int（整数）；</span>
<span class="token keyword">create</span> <span class="token keyword">TABLE</span> d <span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
age <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">into</span> d <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'张飞'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 插入的时候指定了id的值</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> d <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'曹操'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 不指定id的值</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> d <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'周瑜'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> d<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 如果不指定字段,主键自增长字段的值可以用占位符,0或者null</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> d <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'康熙'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">into</span> d <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token string">'溥仪'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="非空"><a href="#非空" class="header-anchor">#</a> 非空</h2> <ul><li>非空not null
<ul><li>这个字段必须有值,如果没有值,insert插入会失败</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：创建表 e，字段要求如下： </span>
<span class="token comment">-- id：数据类型为 int unsigned (无符号整数)；</span>
<span class="token comment">--  name 姓名：数据类型为 varchar(字符串)长度为 10,not null(非空)， </span>
<span class="token comment">-- age 年龄：数据类型为 int（整数）；</span>

<span class="token keyword">CREATE</span> <span class="token keyword">table</span> e <span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token keyword">UNSIGNED</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
age <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> e <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> e <span class="token punctuation">(</span>id<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> e<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="唯一"><a href="#唯一" class="header-anchor">#</a> 唯一</h2> <ul><li>唯一unique
<ul><li>字段的约束为唯一,表示字段的值不能重复</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：创建表 f，字段要求如下： </span>
<span class="token comment">-- id：数据类型为 int (整数)； </span>
<span class="token comment">-- name 姓名：数据类型为 varchar(字符串)长度为 10,unique(唯一); </span>
<span class="token comment">-- age 年龄：数据类型为 int（整数）；</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> f <span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>
age <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> f <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> f <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> f<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="默认值"><a href="#默认值" class="header-anchor">#</a> 默认值</h2> <ul><li>default 值</li> <li>当一个字段有默认值约束,插入数据时,如果指定了值,那么默认值无效,如果没有指定值,会使用默认值</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：创建表 g，</span>
<span class="token comment">-- 字段要求如下： </span>
<span class="token comment">-- id：数据类型为 int (整数)； </span>
<span class="token comment">-- name 姓名：数据类型为 varchar(字符串)长度为 10; </span>
<span class="token comment">-- age 年龄：数据类型为 int（整数）,default(默认值)30；</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> g<span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
age <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> g <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 插入的时候不指定age的值</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> g <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> g<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="字段的别名"><a href="#字段的别名" class="header-anchor">#</a> 字段的别名</h2> <ul><li>通过 字段名 as 别名 的语法,可以给字段起一个别名,别名可以是中文</li> <li>as可以省略</li> <li>字段名 as 别名 和 字段名 别名 结果是一样的</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 通过as 给字段起一个别名</span>
<span class="token keyword">select</span> card <span class="token keyword">as</span> 身份证<span class="token punctuation">,</span> name <span class="token keyword">as</span> 姓名<span class="token punctuation">,</span>sex <span class="token keyword">as</span> 性别 <span class="token keyword">from</span> students<span class="token punctuation">;</span>

<span class="token comment">-- 别名的as可以省略</span>
<span class="token keyword">select</span> card 身份证<span class="token punctuation">,</span> name 姓名<span class="token punctuation">,</span>sex 性别 <span class="token keyword">from</span> students<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="表的别名"><a href="#表的别名" class="header-anchor">#</a> 表的别名</h2> <ul><li>通过 表名 as 别名 给表起一个别名</li> <li>as可以省略</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 通过as 给表students起一个别名</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">as</span> stu<span class="token punctuation">;</span>

<span class="token comment">-- 可以省略as</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students stu<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="distinct过滤重复记录"><a href="#distinct过滤重复记录" class="header-anchor">#</a> distinct过滤重复记录</h2> <ul><li>通过select distinct 字段名, 字段名 from 表名 来过滤select查询结果中的重复记录</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> sex<span class="token punctuation">,</span> class <span class="token keyword">from</span> students<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="where子句"><a href="#where子句" class="header-anchor">#</a> where子句</h2> <ul><li>where 后面跟一个条件,实现有选择的查询</li> <li>select * from 表名 where 条件</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询 students 表中学号 studentNo 等于’001’ 的记录</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> studentNo <span class="token operator">=</span> <span class="token string">'001'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：查询 students 表中年龄 age 等于 30 的姓名 name,班级 class</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span> class <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="select查询的基本规律"><a href="#select查询的基本规律" class="header-anchor">#</a> select查询的基本规律</h2> <ul><li>select * 或者select 字段名  控制了查询返回什么样的字段(列)</li> <li>where 条件 控制了查询返回什么样的记录(行)</li></ul> <h2 id="比较运算符"><a href="#比较运算符" class="header-anchor">#</a> 比较运算符</h2> <ul><li>=等于</li> <li>&lt; 小于</li> <li>&lt;= 小于等于</li> <li><code>&gt;</code>大于</li> <li><code>&gt;=</code>大于等于</li> <li>!=和&lt;&gt;不等于</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询 students 表中 name（姓名）等于’小乔’学生的 age（年龄）</span>
<span class="token keyword">select</span> age <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'小乔'</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 2：查询 students 表中 30 岁以下的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 2：查询 students 表中 30 岁和30岁以下的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&lt;=</span> <span class="token number">30</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询家乡不在'北京'的学生记录</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> hometown <span class="token operator">!=</span> <span class="token string">'北京'</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> hometown <span class="token operator">&lt;&gt;</span> <span class="token string">'北京'</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>课堂练习答案</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习 1：查询 studentNo 学号是'007'的学生的身份证号 card； </span>
<span class="token keyword">SELECT</span> card <span class="token keyword">from</span> students <span class="token keyword">where</span> studentNo <span class="token operator">=</span> <span class="token string">'007'</span><span class="token punctuation">;</span>
<span class="token comment">-- 练习 2：查询 class 班级为'1 班'以外的学生记录； </span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">&lt;&gt;</span> <span class="token string">'1班'</span><span class="token punctuation">;</span>
<span class="token comment">-- 练习 3：查询 age 年龄大于 25 的学生的 name 姓名和 sex 性别；</span>
<span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> sex <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">25</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="逻辑运算符"><a href="#逻辑运算符" class="header-anchor">#</a> 逻辑运算符</h2> <ul><li>and与
<ul><li>条件1 and 条件2</li> <li>两个条件必须都满足</li></ul></li> <li>or或
<ul><li>条件1 or 条件2</li> <li>两个条件只要有一个满足即可</li></ul></li> <li>not非
<ul><li>not 条件</li> <li>条件成立,not以后就不成立,条件不成立,not以后就成立</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询 age 年龄小于 30，并且 sex 性别为’女’的同学记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">30</span> <span class="token operator">and</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 2：查询 sex 性别为’女’或者 class 班级为'1 班'的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span> <span class="token operator">or</span> class <span class="token operator">=</span> <span class="token string">'1班'</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 3：查询 hometown 老家非’天津’的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token operator">not</span> hometown <span class="token operator">=</span> <span class="token string">'天津'</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 3：查询 hometown 老家’天津’的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token operator">not</span> hometown <span class="token operator">!=</span> <span class="token string">'天津'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>课堂练习</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习 1：查询 hometown 老家是’河南’或’河北’的学生记录； </span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> hometown <span class="token operator">=</span> <span class="token string">'河南'</span> <span class="token operator">or</span> hometown <span class="token operator">=</span> <span class="token string">'河北'</span><span class="token punctuation">;</span>
<span class="token comment">-- 练习 2：查询 class 班级为'1 班'，并且 hometown 老家为'北京'的学生记录； </span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'1班'</span> <span class="token operator">and</span> hometown <span class="token operator">=</span> <span class="token string">'北京'</span><span class="token punctuation">;</span>
<span class="token comment">-- 练习 3：查询 age 年龄非 30 岁的学生记录；</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token operator">not</span> age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">!=</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="模糊查询"><a href="#模糊查询" class="header-anchor">#</a> 模糊查询</h2> <ul><li>like实现模糊查询</li> <li>%代表任意多个字符</li> <li>_代表任意一个字符</li> <li>字段名 like '字符%'
<ul><li>指定字符开始,后面任意多个字符</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询 name 姓名中以’孙’开头的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'孙%'</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 2：查询 name 姓名以’孙’开头，且名只有一个字的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'孙_'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 3：查询 name 为任意姓，名叫’乔’的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%乔'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询 name 姓名有’白’子的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%白%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>课堂练习答案</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习 1：查询 name 姓名为两个字的学生记录；</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">WHERE</span> name <span class="token operator">like</span> <span class="token string">'__'</span><span class="token punctuation">;</span> 
<span class="token comment">-- 练习 2：查询 name 姓’白’且年龄大于 30 的学生记录； </span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">WHERE</span> name <span class="token operator">like</span> <span class="token string">'白%'</span> <span class="token operator">and</span> age <span class="token operator">&gt;</span> <span class="token number">30</span><span class="token punctuation">;</span> 
<span class="token comment">-- 练习 3：查询 studentNo 学号以 1 结尾的学生记录；</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">WHERE</span> studentNo <span class="token operator">like</span> <span class="token string">'%1'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="范围查找"><a href="#范围查找" class="header-anchor">#</a> 范围查找</h2> <ul><li>in (值, 值, 值)
<ul><li>非连续范围查找</li></ul></li> <li>between 开始值 and 结束值
<ul><li>连续范围查找,包含开始值 包含 结束值</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询 hometown 家乡是’北京’或’上海’或’广东’的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> hometown <span class="token operator">=</span> <span class="token string">'北京'</span> <span class="token operator">or</span> hometown <span class="token operator">=</span> <span class="token string">'上海'</span> <span class="token operator">or</span> hometown <span class="token operator">=</span> <span class="token string">'广东'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> hometown <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'广东'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 2：查询 age 年龄为 25 至 30 的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;=</span> <span class="token number">25</span> <span class="token operator">and</span> age <span class="token operator">&lt;=</span> <span class="token number">30</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">BETWEEN</span> <span class="token number">25</span> <span class="token operator">and</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>课堂练习答案</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习 1：查询 age 年龄在 20 或 25 或 30 的女生记录； </span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">and</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>
<span class="token comment">-- 练习 2：查询 age 年龄 25 到 30 以外的学生记录；</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token operator">not</span> age <span class="token operator">BETWEEN</span> <span class="token number">25</span> <span class="token operator">and</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="空判断"><a href="#空判断" class="header-anchor">#</a> 空判断</h2> <ul><li>null不是0,也不是'',null在SQL里面代表空,什么也没有</li> <li>null不能用比较运算符的判断</li> <li>is null  ---是否为null</li> <li>is not null ---是否不为null
<ul><li><font color="red">不能用 字段名 = null 字段名 != null这些都是错误的</font></li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询 card 身份证为 null 的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> card <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 2：查询 card 身份证非 null 的学生记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> card <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="where子句可以用到update和delete语句后面"><a href="#where子句可以用到update和delete语句后面" class="header-anchor">#</a> where子句可以用到update和delete语句后面</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：修改 age 为 25,并且 name 为’孙尚香’的学生 class 为’2 班’</span>
<span class="token keyword">update</span> students <span class="token keyword">set</span> class <span class="token operator">=</span> <span class="token string">'2班'</span> <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">25</span> <span class="token operator">and</span> name <span class="token operator">=</span> <span class="token string">'孙尚香'</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 2：删除 class 为’1 班’,并且 age 大于 30 的学生记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'1班'</span> <span class="token operator">and</span> age <span class="token operator">&gt;</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>课堂练习答案</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 修改students表中 姓孙的同学,班级为'1班'</span>
<span class="token keyword">update</span> students <span class="token keyword">set</span> class <span class="token operator">=</span> <span class="token string">'1班'</span> <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'孙%'</span><span class="token punctuation">;</span>
<span class="token comment">-- 删除students年龄在20到30之间所有的男同学</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token punctuation">(</span>age <span class="token operator">BETWEEN</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">and</span> sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="order-by排序"><a href="#order-by排序" class="header-anchor">#</a> order by排序</h2> <ul><li>order by 字段名 [asc/desc]
<ul><li>asc代表从小到大,升序,asc可以省略</li> <li>desc代表从大到小,不可以省略</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询所有学生记录，按 age 年龄从小到大排序</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">order</span> <span class="token keyword">by</span> age<span class="token punctuation">;</span>
<span class="token comment">-- 例 2：查询所有学生记录，按 age 年龄从大到小排序</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>两个字段排序的例子</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：查询所有学生记录，按 age 年龄从大到小排序，</span>
<span class="token comment">--  年龄相同时，再按 studentNo 学号从小到大排序</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> age <span class="token keyword">desc</span><span class="token punctuation">,</span> studentNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>当一条select语句出现了where和order by
<ul><li>select * from 表名 where 条件 order by 字段1,字段2;</li> <li>一定要把where写在order by前面</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习：查询所有男学生记录，按 class 班级从小到大排序，班级相同时，</span>
<span class="token comment">-- 再按 studentNo 学号再按学号从大到小排序</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'男'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> class<span class="token punctuation">,</span> studentNo <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="聚合函数"><a href="#聚合函数" class="header-anchor">#</a> 聚合函数</h2> <h4 id="count求select返回的记录总数"><a href="#count求select返回的记录总数" class="header-anchor">#</a> count求select返回的记录总数</h4> <ul><li>count(字段名)</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询学生总数(查询stuents表有多少记录)</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> class<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> sex<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
<span class="token comment">-- 查询女同学数量</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span>sex<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="max查询最大值"><a href="#max查询最大值" class="header-anchor">#</a> max查询最大值</h4> <ul><li>max(字段名)</li> <li>查询指定字段里的最大值</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询students中的最大年龄</span>
<span class="token keyword">SELECT</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>

<span class="token comment">-- 查询students中的女生最大年龄</span>
<span class="token keyword">SELECT</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>


<span class="token comment">-- 查询students中的'1班'最大年龄</span>
<span class="token keyword">SELECT</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'1班'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>聚合函数不能用到where后面的条件里</p> <h4 id="min查询最小值"><a href="#min查询最小值" class="header-anchor">#</a> min查询最小值</h4> <ul><li>min(字段名)</li> <li>查询指定字段的最小值</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询students中的最小年龄</span>
<span class="token keyword">SELECT</span> <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>

<span class="token comment">-- 查询students中的女生最小年龄</span>
<span class="token keyword">SELECT</span> <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>


<span class="token comment">-- 查询students中的'1班'最小年龄</span>
<span class="token keyword">SELECT</span> <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'1班'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="sum求和"><a href="#sum求和" class="header-anchor">#</a> sum求和</h4> <ul><li>sum(字段名)</li> <li>指定字段的值求和</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询students中的年龄总和</span>
<span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>

<span class="token comment">-- 查询students中的女生年龄总和</span>
<span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>


<span class="token comment">-- 查询students中的'1班'年龄总和</span>
<span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'1班'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="avg求平均数"><a href="#avg求平均数" class="header-anchor">#</a> avg求平均数</h4> <ul><li>avg(字段名)</li> <li>指定字段的平均值</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询students中的年龄总和</span>
<span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>

<span class="token comment">-- 查询students中的女生年龄总和</span>
<span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询students中的'1班'年龄总和</span>
<span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'1班'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>avg的字段中如果有null,null不做为分母计算平均</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> aa <span class="token punctuation">(</span>age <span class="token keyword">int</span><span class="token punctuation">,</span> name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> aa <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> aa<span class="token punctuation">;</span><span class="token comment">-- 结果为15,而不是10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>课堂练习答案</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习 1：查询所有学生的最大年龄、最小年龄、平均年龄； </span>
<span class="token keyword">SELECT</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> 最大年龄<span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> 最小年龄<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> 平均年龄 <span class="token keyword">from</span> students<span class="token punctuation">;</span>
<span class="token comment">-- 练习 2：查询’1 班’共有多少个学生； </span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'1班'</span><span class="token punctuation">;</span>
<span class="token comment">-- 练习 3：查询’3 班’中年龄小于 30 岁的同学有几个；</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'3班'</span> <span class="token operator">and</span> age <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="数据分组"><a href="#数据分组" class="header-anchor">#</a> 数据分组</h2> <ul><li>group by 字段名</li> <li>select 聚合函数 from 表名 where 条件 group by 字段</li> <li>select 聚合函数 from 表名  group by 字段</li> <li>group by就是配合聚合函数使用的</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 分别查询男女同学的数量</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> sex<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>group by的例子</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 分别查询各个年龄段的同学数量</span>

<span class="token keyword">select</span> age<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> age<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>where与group by</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 分别查询'1班'不同性别学生数量</span>

<span class="token keyword">select</span> sex<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'1班'</span> <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>课堂练习答案</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习：用数据分组方法，统计各个班级学生总数、平均年龄、最大年龄、最 小年龄。</span>
<span class="token keyword">SELECT</span> class<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> class
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习：统计各个班级学生总数、平均年龄、最大年龄、最小年龄。</span>
<span class="token comment">-- 但不统计'3班',统计结果按班级名称从大到小排序</span>
<span class="token keyword">SELECT</span> class<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students 
<span class="token keyword">where</span> class <span class="token operator">&lt;&gt;</span> <span class="token string">'3班'</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> class <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> class <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>where和group by 和order by的顺序
<ul><li>select * from 表名 where 条件 group by 字段 order by 字段</li></ul></li></ul> <h2 id="分组聚合之后的数据筛选"><a href="#分组聚合之后的数据筛选" class="header-anchor">#</a> 分组聚合之后的数据筛选</h2> <ul><li>having子句</li> <li>总是出现在group by之后</li> <li>select * from 表名 group by 字段 having 条件</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 用where查询男生总数</span>
<span class="token comment">-- where先筛选复合条件的记录,然后在聚合统计</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>

<span class="token comment">-- 用having查询男生总数</span>
<span class="token comment">-- having先分组聚合统计,在统计的结果中筛选</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sex <span class="token keyword">HAVING</span> sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="having配合聚合函数的使用"><a href="#having配合聚合函数的使用" class="header-anchor">#</a> having配合聚合函数的使用</h2> <ul><li>where后面条件不能使用聚合函数, having可以使用聚合函数</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 求班级人数大于3人的班级名字</span>
<span class="token keyword">select</span> class <span class="token keyword">from</span> students <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> class <span class="token keyword">HAVING</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="having与where筛选的区别"><a href="#having与where筛选的区别" class="header-anchor">#</a> having与where筛选的区别</h2> <ul><li><p>where是对标的原始数据进行筛选</p></li> <li><p>having是对group by之后已经分过组的数据进行筛选</p></li> <li><p>having可以使用聚合函数, where不能用聚合函数</p></li> <li><p>课堂练习答案</p></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习：查询班级总人数大于 2 人的班级名称以及班级对应的总人数;</span>
<span class="token keyword">select</span> class<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> class <span class="token keyword">HAVING</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习 :  查询平均年龄大于30岁的班级名称和班级总人数</span>
<span class="token keyword">SELECT</span> class<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> class <span class="token keyword">HAVING</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="limit显示指定的记录数"><a href="#limit显示指定的记录数" class="header-anchor">#</a> limit显示指定的记录数</h2> <ul><li>select * from 表名 where 条件 group by 字段 order by 字段 limit start, count</li> <li>limit总是出现在select语句的最后,</li> <li>start代表开始行号,行号从0开始编号</li> <li>count代表要显示多少行</li> <li>省略start,默认从0开始,从第一行开始</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询前三行记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询从第4条记录开始的三条记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>当有where或者group by或者order by, limit总是出现在最后</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询年龄最大同学的name</span>
<span class="token keyword">select</span> name <span class="token keyword">from</span> students <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> age <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询年龄最小的女同学信息</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> age <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="数据分页显示"><a href="#数据分页显示" class="header-anchor">#</a> 数据分页显示</h2> <ul><li>m 每页显示多少条记录</li> <li>n,第n页</li> <li>(n - 1) * m, m</li> <li>把计算结果写到limit后面</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 每页显示4条记录,第3页的结果</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token comment">-- 每页显示4条记录,第2页的结果</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><p>已知每页记录数,求一张表需要几页显示完</p> <ul><li>求总页数</li> <li>总页数 / 每页的记录数</li> <li>如果结果是整数,那么就是总页数,如果结果有小数,那么就在结果的整数上+1</li></ul></li> <li><p>课堂练习答案</p></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 每页显示5条记录,分别多条select显示每页的记录</span>
<span class="token comment">-- 第一页</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token comment">-- 第二页:</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token comment">-- 第三页:</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="连接查询"><a href="#连接查询" class="header-anchor">#</a> 连接查询</h2> <ul><li>内连接
<ul><li>把两张表相同的地方查询出来</li></ul></li></ul> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570754557535.png" alt="1570754557535"></p> <ul><li>左连接
<ul><li>包括了内连接,同时还查询左表特有的内容</li></ul></li></ul> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570754593595.png" alt="1570754593595"></p> <ul><li>右连接
<ul><li>包括了内连接,同时还查询右表特有的内容</li></ul></li></ul> <p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570754629227.png" alt="1570754629227"></p> <h2 id="内连接"><a href="#内连接" class="header-anchor">#</a> 内连接</h2> <ul><li>语法:
<ul><li>select * from 表1 inner join 表2 on 表1.字段 = 表2.字段</li> <li>内连接最重要的是,找对两张表要关联的字段</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> a <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> b <span class="token keyword">on</span> a<span class="token punctuation">.</span>id <span class="token operator">=</span> b<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>students表和scores内连接查询结果</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores <span class="token keyword">on</span> students<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/document/mysql/1570756064299.png" alt="1570756064299"></p> <ul><li>隐式内连接语法
<ul><li>语法:select * from 表1,表2 where 两个表的连接条件</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 隐式内连接</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students<span class="token punctuation">,</span> scores <span class="token keyword">where</span> students<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>内连接查询,显示指定的字段</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- students表与socres内连接,只显示name 课程号 成绩</span>
<span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> courseNo<span class="token punctuation">,</span> score <span class="token keyword">from</span> students
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores <span class="token keyword">on</span> students<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>表的别名在查询中的使用</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> name 姓名<span class="token punctuation">,</span> courseNo 课程编号<span class="token punctuation">,</span> score 成绩 <span class="token keyword">from</span> students st
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores sc <span class="token keyword">on</span> st<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> sc<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>课堂练习答案</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习 1: 查询成绩表信息，同时显示成绩对应的课程名称</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> scores s <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> courses c <span class="token keyword">on</span> s<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> c<span class="token punctuation">.</span>courseNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>带有where的内连接
<ul><li>语法select * from 表1 inner join 表2 on 表1.字段 = 表2.字段 where 条件</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 5：查询王昭君的信息，要求只显示姓名、课程号、成绩</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span> courseNo<span class="token punctuation">,</span> score <span class="token keyword">from</span> students s1 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores s2 <span class="token keyword">on</span> s1<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> s2<span class="token punctuation">.</span>studentNo
<span class="token keyword">where</span> s1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'王昭君'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>带有and的where条件</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 6：查询姓名为’王昭君’,并且成绩小于 90 的信息，要求只显示姓名、成绩</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span> score <span class="token keyword">from</span> students s1 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores s2 <span class="token keyword">on</span> s1<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> s2<span class="token punctuation">.</span>studentNo
<span class="token keyword">where</span> s1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'王昭君'</span> <span class="token operator">and</span> s2<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> <span class="token number">90</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>多表内连接</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 7：查询学生信息和成绩以及成绩对应的课程名称</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">inner</span> <span class="token keyword">join</span> scores <span class="token keyword">on</span> students<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo
<span class="token keyword">inner</span> <span class="token keyword">join</span> courses <span class="token keyword">on</span> scores<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> courses<span class="token punctuation">.</span>courseNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="写sql三步法"><a href="#写sql三步法" class="header-anchor">#</a> 写SQL三步法</h2> <ul><li>搭框架
<ul><li>基本的select语句框架搭建起来,如果有多表,把相应的多表也联合进来</li></ul></li> <li>看条件
<ul><li>决定where后面的具体条件</li></ul></li> <li>显示的字段
<ul><li>select后面到底要显示什么字段</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习 2：查询所有学生的’linux’课程成绩，要求只显示姓名、成绩、课程名</span>
<span class="token comment">-- 第一步:搭框架</span>
<span class="token comment">-- SELECT * from students INNER JOIN scores </span>
<span class="token comment">-- on students.studentNo = scores.studentNo</span>
<span class="token comment">-- INNER JOIN courses on scores.courseNo = courses.courseNo;</span>
<span class="token comment">-- 第二步:看条件</span>
<span class="token comment">-- SELECT * from students INNER JOIN scores </span>
<span class="token comment">-- on students.studentNo = scores.studentNo</span>
<span class="token comment">-- INNER JOIN courses on scores.courseNo = courses.courseNo</span>
<span class="token comment">-- where courseName = 'linux';</span>
<span class="token comment">-- 第三步:返回字段名</span>
<span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> score<span class="token punctuation">,</span> courseName <span class="token keyword">from</span> students <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores 
<span class="token keyword">on</span> students<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> courses <span class="token keyword">on</span> scores<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> courses<span class="token punctuation">.</span>courseNo
<span class="token keyword">where</span> courseName <span class="token operator">=</span> <span class="token string">'linux'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>带有order by的联合查询</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 8：查询成绩最高的男生信息，要求显示姓名、课程名、成绩</span>
<span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> score<span class="token punctuation">,</span> courseName <span class="token keyword">from</span> students <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores 
<span class="token keyword">on</span> students<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> courses <span class="token keyword">on</span> scores<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> courses<span class="token punctuation">.</span>courseNo
<span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'男'</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> score <span class="token keyword">desc</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="左连接"><a href="#左连接" class="header-anchor">#</a> 左连接</h2> <ul><li>语法
<ul><li>select * from 表1 left join 表2 on 表1.字段 = 表2.字段</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询所有学生的信息以及成绩，包括没有成绩的学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">left</span> <span class="token keyword">JOIN</span> scores <span class="token keyword">ON</span>
students<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="右连接"><a href="#右连接" class="header-anchor">#</a> 右连接</h2> <ul><li>语法
<ul><li>select * from 表1 right join 表2 on 表1.字段 = 表2.字段</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询所有课程的信息，包括没有成绩的课程</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> scores <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> courses <span class="token keyword">ON</span>
scores<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> courses<span class="token punctuation">.</span>courseNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="多表联合查询-同名字段的处理方式"><a href="#多表联合查询-同名字段的处理方式" class="header-anchor">#</a> 多表联合查询,同名字段的处理方式</h2> <ul><li>如果一条select要用到多个表,表中有同名字段.就需要 表名.字段名 加以区分</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> students<span class="token punctuation">.</span>studentNo <span class="token keyword">from</span> students <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores <span class="token keyword">ON</span>
students<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="自关联"><a href="#自关联" class="header-anchor">#</a> 自关联</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询一共有多少个省</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> areas <span class="token keyword">where</span> pid <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询有多少市</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> areas <span class="token keyword">where</span> pid <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>自关联,是同一张表做连接查询,</li> <li>自关联下,一定找到同一张表可关联的不同字段</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：查询广东省的所有城市</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> areas a1 <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> areas a2
<span class="token keyword">on</span> a1<span class="token punctuation">.</span>id <span class="token operator">=</span> a2<span class="token punctuation">.</span>pid
<span class="token keyword">WHERE</span> a1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'广东省'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h2> <ul><li>子查询是嵌套到主查询里面的</li> <li>子查询做为主查询的数据源或者条件</li> <li>子查询是独立可以单独运行的查询语句</li> <li>主查询不能独立独立运行,依赖子查询的结果</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：查询大于平均年龄的学生记录</span>
<span class="token comment">-- SELECT avg(age) from students;</span>
<span class="token comment">-- </span>
<span class="token comment">-- select * from students where age &gt; 30.1667;</span>

<span class="token comment">-- 用子查询实现</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>标量子查询------子查询返回结果只有一行,一列</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：查询 30 岁的学生的成绩</span>
<span class="token comment">-- 1,查询30岁学生的studentNO</span>
<span class="token comment">-- select studentNo from students where age = 30;</span>
<span class="token comment">-- </span>
<span class="token comment">-- SELECT * from scores where studentNo in ('001', '003', '011');</span>

<span class="token comment">-- 用子查询实现</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> scores <span class="token keyword">where</span> studentNo <span class="token operator">in</span> 
<span class="token punctuation">(</span><span class="token keyword">select</span> studentNo <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>列子查询------子查询返回一列多行</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 3：用子查询，查询所有女生的信息和成绩</span>
<span class="token comment">-- 用内连接实现</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores <span class="token keyword">ON</span>
students<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo
<span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>
<span class="token comment">-- 用子查询实现</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">)</span> stu
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores sc <span class="token keyword">on</span> stu<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> sc<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><p>表级子查询------子查询返回结果为多行,多列</p></li> <li><p>课件提问问题及答案</p></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询各个年龄段学生的数量,按照数量从大到小排序</span>
<span class="token keyword">select</span> age<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> age <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment">-- 查找年龄大于等于25,小于等于30的男同学</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token punctuation">(</span>age <span class="token operator">BETWEEN</span> <span class="token number">25</span> <span class="token operator">and</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">and</span> sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>

<span class="token comment">-- 显示2班和3班的女同学</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span> <span class="token operator">and</span> class <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'2班'</span><span class="token punctuation">,</span> <span class="token string">'3班'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 显示所有有效的card学生记录,null和''都是无效的</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> students <span class="token keyword">where</span> card <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token operator">and</span> card <span class="token operator">!=</span> <span class="token string">''</span><span class="token punctuation">;</span>


<span class="token comment">-- 查找老家不在河北和北京的同学的age总和</span>
<span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> hometown <span class="token operator">&lt;&gt;</span> <span class="token string">'北京'</span> <span class="token operator">and</span> hometown <span class="token operator">&lt;&gt;</span> <span class="token string">'河北'</span><span class="token punctuation">;</span> 
<span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token operator">not</span> hometown <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'河北'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 查找不姓'白'的同学</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token operator">not</span> name <span class="token operator">like</span> <span class="token string">'白%'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询每个班有分别多少同学</span>
<span class="token keyword">SELECT</span> class<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> class<span class="token punctuation">;</span>

<span class="token comment">-- 这个sql能不能显示年龄最大的同学的姓名</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>

<span class="token comment">-- 显示年龄最大的同学的姓名</span>
<span class="token keyword">SELECT</span> name <span class="token keyword">from</span> students <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> name <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询年龄最大的女同学和年龄最小的女同学差多少岁</span>
<span class="token keyword">SELECT</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token operator">-</span>  <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>

<span class="token comment">-- 分别求男女同学的平均年龄</span>
<span class="token keyword">select</span> sex<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sex<span class="token punctuation">;</span>

<span class="token comment">-- 只显示班级人数为3个同学的班级名称</span>
<span class="token keyword">SELECT</span> class <span class="token keyword">from</span> students <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> class <span class="token keyword">HAVING</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> 

<span class="token comment">--  查询姓名只有2个字的女同学的数量</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span> <span class="token operator">and</span> name <span class="token operator">like</span> <span class="token string">'__'</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询年龄大于25,老家不在河北的男同学</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">25</span> <span class="token operator">and</span> hometown <span class="token operator">!=</span> <span class="token string">'河北'</span> <span class="token operator">and</span> sex <span class="token operator">=</span> <span class="token string">'男'</span> <span class="token punctuation">;</span>

<span class="token comment">-- 查询1班加3班所有同学的年龄总和</span>
<span class="token keyword">SELECT</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> class <span class="token operator">=</span> <span class="token string">'1班'</span> <span class="token operator">or</span> class <span class="token operator">=</span> <span class="token string">'3班'</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h2 id="concat拼接字符串函数"><a href="#concat拼接字符串函数" class="header-anchor">#</a> concat拼接字符串函数</h2> <ul><li>concat(参数1, 参数2, 参数3, 参数n)
<ul><li>参数可以是数字,也可以是字符串</li> <li>把所有的参数连接成一个完整的字符串</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：把 12,34，’ab’拼接为一个字符串’1234ab’</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token string">'ab'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="length返回字符串字符的个数"><a href="#length返回字符串字符的个数" class="header-anchor">#</a> length返回字符串字符的个数</h2> <ul><li>一个utf8格式的汉字,length返回3</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：计算字符串’abc’的长度</span>
<span class="token keyword">select</span> length<span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 3：计算字符串’我和你’的长度</span>
<span class="token keyword">SELECT</span> length<span class="token punctuation">(</span><span class="token string">'我和你'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 例 4：计算字符串’我和you’的长度</span>
<span class="token keyword">SELECT</span> length<span class="token punctuation">(</span><span class="token string">'我和you'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="mysql内置函数可以在where条件后面使用"><a href="#mysql内置函数可以在where条件后面使用" class="header-anchor">#</a> mysql内置函数可以在where条件后面使用</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 4：查询表 students 中 name 长度等于 9（三个 utf8 格式的汉字）的学生信息</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> length<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="left从字符串左侧截取指定数量字符"><a href="#left从字符串左侧截取指定数量字符" class="header-anchor">#</a> left从字符串左侧截取指定数量字符</h2> <ul><li>left(字符串, n)
<ul><li>n代表从字符串左侧截取n个字符</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 5：截取字符串’我和你abc’的左端 3 个字符</span>
<span class="token keyword">select</span> <span class="token keyword">left</span><span class="token punctuation">(</span><span class="token string">'我和你abc'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 6：截取字符串’我和你abc’的左端 4 个字符</span>
<span class="token keyword">select</span> <span class="token keyword">left</span><span class="token punctuation">(</span><span class="token string">'我和你abc'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 6：截取字符串’abc我和你’的左端 4 个字符</span>
<span class="token keyword">select</span> <span class="token keyword">left</span><span class="token punctuation">(</span><span class="token string">'abc我和你'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="right从字符串右侧截取指定数量的字符"><a href="#right从字符串右侧截取指定数量的字符" class="header-anchor">#</a> right从字符串右侧截取指定数量的字符</h2> <ul><li>rigth(字符串, n)
<ul><li>n代表从字符串右侧截取n个字符</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 5：截取字符串’我和你abc’的右端 3 个字符</span>
<span class="token keyword">select</span> <span class="token keyword">right</span><span class="token punctuation">(</span><span class="token string">'我和你abc'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 5：截取字符串’我和你abc’的右端 4 个字符</span>
<span class="token keyword">select</span> <span class="token keyword">right</span><span class="token punctuation">(</span><span class="token string">'我和你abc'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="substring从字符串指定位置截取指定数量字符"><a href="#substring从字符串指定位置截取指定数量字符" class="header-anchor">#</a> substring从字符串指定位置截取指定数量字符</h2> <ul><li>substring(字符串, 起始位置, n)
<ul><li>起始位置从1开始</li> <li>n代表截取的数量</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 7：截取字符串’我和你abc’从第 2 个字符开始的 3 个字符</span>
<span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">'我和你abc'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 例 7：截取字符串’我和你abc’从左侧开始的 3 个字符</span>
<span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">'我和你abc'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 例 7：截取字符串’我和你abc’从第 4 个字符开始的 1 个字符</span>
<span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">'我和你abc'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="内置函数可以用在select显示的字段名中"><a href="#内置函数可以用在select显示的字段名中" class="header-anchor">#</a> 内置函数可以用在select显示的字段名中</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 8：截取 students 表中所有学生的姓</span>
<span class="token keyword">SELECT</span> <span class="token keyword">left</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> substring<span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>课堂练习答案</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 练习 1：查询 students 表的 card 字段，截取出生年月日，显示李白的生日</span>
<span class="token keyword">SELECT</span> substring<span class="token punctuation">(</span>card<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'李白'</span><span class="token punctuation">;</span>

<span class="token comment">-- 练习 2：查询 students 表的所有学生信息，按生日从大到小排序(</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> substring<span class="token punctuation">(</span>card<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="ltrim去除字符串左侧空格"><a href="#ltrim去除字符串左侧空格" class="header-anchor">#</a> ltrim去除字符串左侧空格</h2> <ul><li>ltrim(带空格的字符串)</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：去除字符串' abcd '左侧空格</span>

<span class="token keyword">SELECT</span> ltrim<span class="token punctuation">(</span><span class="token string">'         abcd '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="rtrim去除字符串右侧空格"><a href="#rtrim去除字符串右侧空格" class="header-anchor">#</a> rtrim去除字符串右侧空格</h2> <ul><li>rtrim(带空格的字符串)</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：去除字符串' abcd     '右侧空格</span>
<span class="token keyword">SELECT</span> rtrim<span class="token punctuation">(</span><span class="token string">' abcd     '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span>rtrim<span class="token punctuation">(</span><span class="token string">' abcd     '</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'测试字符'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="trim去除字符串两侧空格"><a href="#trim去除字符串两侧空格" class="header-anchor">#</a> trim去除字符串两侧空格</h2> <ul><li>trim(带空格的字符串)</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：去除字符串'     abcd     '两侧空格</span>
<span class="token keyword">SELECT</span> trim<span class="token punctuation">(</span><span class="token string">'     abcd     '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="round四舍五入"><a href="#round四舍五入" class="header-anchor">#</a> round四舍五入</h2> <ul><li>round(数字, d)
<ul><li>d代表要保留的小数位,省略d默认为0</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：1.653 四舍五入，保留整数位</span>
<span class="token keyword">SELECT</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.653</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 例 2：1.653 四舍五入，保留2位小数</span>
<span class="token keyword">SELECT</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.653</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>课堂案例</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 3：查询 students 表中学生的平均年龄，并四舍五入,保留两位小数</span>
<span class="token keyword">SELECT</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="rand随机数"><a href="#rand随机数" class="header-anchor">#</a> rand随机数</h2> <ul><li><p>rand()</p> <ul><li>每次运行会产生一个从0到1之间的浮点数</li></ul></li> <li><p>经常用rand对一个张进行随机排序</p> <ul><li>order by rand()</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 小技巧：从学生表中随机抽出一个学生</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">order</span> <span class="token keyword">by</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <h2 id="current-date返回系统日期"><a href="#current-date返回系统日期" class="header-anchor">#</a> current_date返回系统日期</h2> <ul><li>current_date()</li></ul> <h2 id="current-time返回系统时间"><a href="#current-time返回系统时间" class="header-anchor">#</a> current_time返回系统时间</h2> <ul><li>current_time()</li></ul> <h2 id="返回系统日期与时间"><a href="#返回系统日期与时间" class="header-anchor">#</a> 返回系统日期与时间</h2> <ul><li>now()</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">current_date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token keyword">current_time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>日期和时间函数的案例</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 插入记录时,插入系统当前时间</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> a <span class="token punctuation">(</span>id <span class="token keyword">int</span><span class="token punctuation">,</span> indate <span class="token keyword">datetime</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> a <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2010-09-10 12:01:02'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> a <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> a<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="存储过程"><a href="#存储过程" class="header-anchor">#</a> 存储过程</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：创建存储过程 stu()，查询 students 表所有学生信息</span>
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> stu<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
<span class="token keyword">end</span>

<span class="token comment">-- 调用存储过程stu</span>
<span class="token keyword">call</span> stu<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除存储过程,删除的时候不用写名字后面的()</span>
<span class="token keyword">DROP</span> <span class="token keyword">PROCEDURE</span> stu<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">PROCEDURE</span> <span class="token keyword">if</span> <span class="token keyword">EXISTS</span> stu<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="视图"><a href="#视图" class="header-anchor">#</a> 视图</h2> <ul><li>视图就是对select语句的封装</li> <li>视图可以理解为一张只读的表,针对视图只能用select,不能用delete和update</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 创建一个视图,查询所有男生信息</span>

<span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> stu_nan <span class="token keyword">as</span> 
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>

<span class="token comment">-- 使用视图</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> stu_nan <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> scores 
<span class="token keyword">on</span> stu_nan<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> scores<span class="token punctuation">.</span>studentNo<span class="token punctuation">;</span>

<span class="token comment">-- 删除视图</span>
<span class="token keyword">drop</span> <span class="token keyword">VIEW</span> stu_nan<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">view</span> <span class="token keyword">if</span> <span class="token keyword">EXISTS</span> stu_nan<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="事务"><a href="#事务" class="header-anchor">#</a> 事务</h2> <ul><li><p>事务是多条更改数据操作的sql语句集合</p></li> <li><p>一个集合数据有一致性,要么就都失败,要么就都成功回滚</p></li> <li><p>begin   ----开始事务</p></li> <li><p>rollback  ----回滚事务,放弃对表的修改</p></li> <li><p>commit  ---- 提交事务,对表的修改生效</p></li></ul> <p>没有写begin代表没有事务,没有事务的表操作都是实时生效.</p> <p>如果只写了begin, 没有rollback,也没有commit, 系统推出,结果是rollback</p> <h4 id="回滚事务"><a href="#回滚事务" class="header-anchor">#</a> 回滚事务</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：开启事务，</span>
<span class="token comment">-- 删除 students 表中 studentNo 为 001 的记录，</span>
<span class="token comment">-- 同时删除 scores 表中 studentNo 为 001 的记录, </span>
<span class="token comment">-- 回滚事务，两个表的删除同时放弃</span>
<span class="token comment">-- 开始事务</span>
<span class="token keyword">begin</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> studentNo <span class="token operator">=</span> <span class="token string">'001'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> scores <span class="token keyword">where</span> studentNo <span class="token operator">=</span> <span class="token string">'001'</span><span class="token punctuation">;</span>
<span class="token comment">-- 回滚事务,放弃更改</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>如果开始一个事务,执行了begin,之后,没有rollback也没有commit,中间系统出问题了.默认会执行rollback</li></ul> <h4 id="提交事务"><a href="#提交事务" class="header-anchor">#</a> 提交事务</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 2：开启事务，</span>
<span class="token comment">-- 删除 students 表中 studentNo 为 001 的记录，</span>
<span class="token comment">-- 同时删除 scores 表中 studentNo 为 001 的记录, </span>
<span class="token comment">-- 提交事务，使两个表的删除同时生效</span>

<span class="token keyword">begin</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> studentNo <span class="token operator">=</span> <span class="token string">'001'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">from</span> scores <span class="token keyword">where</span> studentNo <span class="token operator">=</span> <span class="token string">'001'</span><span class="token punctuation">;</span>
<span class="token comment">-- 提交事务,一旦提交事务,两个删除操作同时生效</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="索引"><a href="#索引" class="header-anchor">#</a> 索引</h2> <ul><li><p>index</p></li> <li><p>给表建立索引,目的是加快select查询的速度</p></li> <li><p>如果一个表记录很少,几十条,或者几百条,不用索引</p></li> <li><p>表的记录特别多,如果没有索引,select语句效率会非常低</p></li> <li><p>创建索引</p> <ul><li>create index 索引名 on 表名(字段)</li> <li>如果字段为字符串,需要写明创建表字段的时候字符串的长度</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 例 1：为表 students 的 age 字段创建索引，名为 age_index</span>
<span class="token keyword">CREATE</span> <span class="token keyword">index</span> age_index <span class="token keyword">on</span> students <span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 例 2：为表 students 的 name 字段创建索引，名为 name_index</span>
<span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> name_index <span class="token keyword">on</span> students <span class="token punctuation">(</span>name<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>调用索引
<ul><li>不需要显示的写调用索引的语句,只要where条件后面用到的字段建立了索引,那么系统会自动调用</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- where条件后面的字段,数据库系统会自动查找是否有索引</span>
<span class="token comment">-- 这里会自动调用age_index</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span class="token comment">-- 自动调用name_index</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'李白'</span><span class="token punctuation">;</span>
<span class="token comment">-- 不会调用任何索引,因为sex字段没有索引</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> sex <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>查看索引
<ul><li>show index from 表名</li> <li>对于主键,系统会自动建立索引</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查看students表的索引</span>
<span class="token keyword">show</span> <span class="token keyword">index</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>删除索引
<ul><li>drop index 索引名 on 表名</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">index</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>

<span class="token comment">-- 删除索引age_index</span>
<span class="token keyword">drop</span> <span class="token keyword">index</span> age_index <span class="token keyword">on</span> students<span class="token punctuation">;</span>
<span class="token comment">-- 删除索引name_index</span>
<span class="token keyword">drop</span> <span class="token keyword">index</span> name_index <span class="token keyword">on</span> students<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>索引的优缺点
<ul><li>提高select的查询速度</li> <li>降低update,delete和insert语句的执行速度</li> <li>项目中80%以上是select,所以index必须的</li> <li>在实际工作中如果涉及到大量的数据修改操作,修改之前可以把索引删除,修改完成后再把索引建立起来</li></ul></li></ul> <h2 id="基于命令行的mysql"><a href="#基于命令行的mysql" class="header-anchor">#</a> 基于命令行的mysql</h2> <ul><li>mysql -h mysql服务器的地址 -u 用户名 -p
<ul><li>-h 如果是使用本机的mysql,-h可以省略</li></ul></li></ul> <h4 id="mysql登录之后的常用命令"><a href="#mysql登录之后的常用命令" class="header-anchor">#</a> mysql登录之后的常用命令</h4> <ul><li>show databases
<ul><li>显示系统所有的数据库</li></ul></li> <li>use 数据库名
<ul><li>使用指定的一个数据库</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 使用mydb数据库</span>
<span class="token keyword">use</span> mydb
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>show tables
<ul><li>查看指定数据库有多少表</li></ul></li> <li>如果命令行默认字符集与数据库默认字符集不同
<ul><li>在windows默认字符集是gbk</li> <li>set names gbk
<ul><li>告诉mysql,客户端用的字符集是gbk</li></ul></li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 连接到mysql</span>
mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p
<span class="token comment">-- 查看数据库</span>
<span class="token keyword">show</span> <span class="token keyword">databases</span>
<span class="token comment">-- 使用mydb数据库</span>
<span class="token keyword">use</span> mydb
<span class="token comment">-- 查看所有表</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span>
<span class="token comment">-- 设置客户端字符集为gbk</span>
<span class="token keyword">set</span> names gbk
<span class="token comment">-- 查询students表</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li><p>在命令行中每条sql语句用;结尾</p></li> <li><p>可以通过desc 表名 查看一个表的字段结构</p> <ul><li>desc students</li> <li>查看students每个字段的定义</li></ul></li> <li><p>在命令行下创建和删除数据库</p> <ul><li>create database 数据库名 default charset 字符集</li></ul></li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 创建一个数据库mytest,默认字符集为utf8</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> mytest <span class="token keyword">default</span> <span class="token keyword">charset</span> utf8<span class="token punctuation">;</span>
<span class="token comment">-- 删除数据库mytest</span>
<span class="token keyword">drop</span> <span class="token keyword">database</span> mytest
<span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> mytest<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2024/7/15 14:16:01</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#navicat基本使用" class="sidebar-link reco-side-navicat基本使用" data-v-cb1513f6>navicat基本使用</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#sql语言中的注释" class="sidebar-link reco-side-sql语言中的注释" data-v-cb1513f6>sql语言中的注释</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#mysql的常用数据类型" class="sidebar-link reco-side-mysql的常用数据类型" data-v-cb1513f6>mysql的常用数据类型</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#数据库中的元素" class="sidebar-link reco-side-数据库中的元素" data-v-cb1513f6>数据库中的元素</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#创建表" class="sidebar-link reco-side-创建表" data-v-cb1513f6>创建表</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#插入数据" class="sidebar-link reco-side-插入数据" data-v-cb1513f6>插入数据</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#插入多条记录" class="sidebar-link reco-side-插入多条记录" data-v-cb1513f6>插入多条记录</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#select查询表" class="sidebar-link reco-side-select查询表" data-v-cb1513f6>select查询表</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#update修改数据" class="sidebar-link reco-side-update修改数据" data-v-cb1513f6>update修改数据</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#delete删除记录" class="sidebar-link reco-side-delete删除记录" data-v-cb1513f6>delete删除记录</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#truncate-table删除表的数据" class="sidebar-link reco-side-truncate-table删除表的数据" data-v-cb1513f6>truncate table删除表的数据</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#小结" class="sidebar-link reco-side-小结" data-v-cb1513f6>小结</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#删除表" class="sidebar-link reco-side-删除表" data-v-cb1513f6>删除表</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#字段的约束" class="sidebar-link reco-side-字段的约束" data-v-cb1513f6>字段的约束</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#主键" class="sidebar-link reco-side-主键" data-v-cb1513f6>主键</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#非空" class="sidebar-link reco-side-非空" data-v-cb1513f6>非空</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#唯一" class="sidebar-link reco-side-唯一" data-v-cb1513f6>唯一</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#默认值" class="sidebar-link reco-side-默认值" data-v-cb1513f6>默认值</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#字段的别名" class="sidebar-link reco-side-字段的别名" data-v-cb1513f6>字段的别名</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#表的别名" class="sidebar-link reco-side-表的别名" data-v-cb1513f6>表的别名</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#distinct过滤重复记录" class="sidebar-link reco-side-distinct过滤重复记录" data-v-cb1513f6>distinct过滤重复记录</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#where子句" class="sidebar-link reco-side-where子句" data-v-cb1513f6>where子句</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#select查询的基本规律" class="sidebar-link reco-side-select查询的基本规律" data-v-cb1513f6>select查询的基本规律</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#比较运算符" class="sidebar-link reco-side-比较运算符" data-v-cb1513f6>比较运算符</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#逻辑运算符" class="sidebar-link reco-side-逻辑运算符" data-v-cb1513f6>逻辑运算符</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#模糊查询" class="sidebar-link reco-side-模糊查询" data-v-cb1513f6>模糊查询</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#范围查找" class="sidebar-link reco-side-范围查找" data-v-cb1513f6>范围查找</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#空判断" class="sidebar-link reco-side-空判断" data-v-cb1513f6>空判断</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#where子句可以用到update和delete语句后面" class="sidebar-link reco-side-where子句可以用到update和delete语句后面" data-v-cb1513f6>where子句可以用到update和delete语句后面</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#order-by排序" class="sidebar-link reco-side-order-by排序" data-v-cb1513f6>order by排序</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#聚合函数" class="sidebar-link reco-side-聚合函数" data-v-cb1513f6>聚合函数</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#数据分组" class="sidebar-link reco-side-数据分组" data-v-cb1513f6>数据分组</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#分组聚合之后的数据筛选" class="sidebar-link reco-side-分组聚合之后的数据筛选" data-v-cb1513f6>分组聚合之后的数据筛选</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#having配合聚合函数的使用" class="sidebar-link reco-side-having配合聚合函数的使用" data-v-cb1513f6>having配合聚合函数的使用</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#having与where筛选的区别" class="sidebar-link reco-side-having与where筛选的区别" data-v-cb1513f6>having与where筛选的区别</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#limit显示指定的记录数" class="sidebar-link reco-side-limit显示指定的记录数" data-v-cb1513f6>limit显示指定的记录数</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#数据分页显示" class="sidebar-link reco-side-数据分页显示" data-v-cb1513f6>数据分页显示</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#连接查询" class="sidebar-link reco-side-连接查询" data-v-cb1513f6>连接查询</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#内连接" class="sidebar-link reco-side-内连接" data-v-cb1513f6>内连接</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#写sql三步法" class="sidebar-link reco-side-写sql三步法" data-v-cb1513f6>写SQL三步法</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#左连接" class="sidebar-link reco-side-左连接" data-v-cb1513f6>左连接</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#右连接" class="sidebar-link reco-side-右连接" data-v-cb1513f6>右连接</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#多表联合查询-同名字段的处理方式" class="sidebar-link reco-side-多表联合查询-同名字段的处理方式" data-v-cb1513f6>多表联合查询,同名字段的处理方式</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#自关联" class="sidebar-link reco-side-自关联" data-v-cb1513f6>自关联</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#子查询" class="sidebar-link reco-side-子查询" data-v-cb1513f6>子查询</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#concat拼接字符串函数" class="sidebar-link reco-side-concat拼接字符串函数" data-v-cb1513f6>concat拼接字符串函数</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#length返回字符串字符的个数" class="sidebar-link reco-side-length返回字符串字符的个数" data-v-cb1513f6>length返回字符串字符的个数</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#mysql内置函数可以在where条件后面使用" class="sidebar-link reco-side-mysql内置函数可以在where条件后面使用" data-v-cb1513f6>mysql内置函数可以在where条件后面使用</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#left从字符串左侧截取指定数量字符" class="sidebar-link reco-side-left从字符串左侧截取指定数量字符" data-v-cb1513f6>left从字符串左侧截取指定数量字符</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#right从字符串右侧截取指定数量的字符" class="sidebar-link reco-side-right从字符串右侧截取指定数量的字符" data-v-cb1513f6>right从字符串右侧截取指定数量的字符</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#substring从字符串指定位置截取指定数量字符" class="sidebar-link reco-side-substring从字符串指定位置截取指定数量字符" data-v-cb1513f6>substring从字符串指定位置截取指定数量字符</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#内置函数可以用在select显示的字段名中" class="sidebar-link reco-side-内置函数可以用在select显示的字段名中" data-v-cb1513f6>内置函数可以用在select显示的字段名中</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#ltrim去除字符串左侧空格" class="sidebar-link reco-side-ltrim去除字符串左侧空格" data-v-cb1513f6>ltrim去除字符串左侧空格</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#rtrim去除字符串右侧空格" class="sidebar-link reco-side-rtrim去除字符串右侧空格" data-v-cb1513f6>rtrim去除字符串右侧空格</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#trim去除字符串两侧空格" class="sidebar-link reco-side-trim去除字符串两侧空格" data-v-cb1513f6>trim去除字符串两侧空格</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#round四舍五入" class="sidebar-link reco-side-round四舍五入" data-v-cb1513f6>round四舍五入</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#rand随机数" class="sidebar-link reco-side-rand随机数" data-v-cb1513f6>rand随机数</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#current-date返回系统日期" class="sidebar-link reco-side-current-date返回系统日期" data-v-cb1513f6>current_date返回系统日期</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#current-time返回系统时间" class="sidebar-link reco-side-current-time返回系统时间" data-v-cb1513f6>current_time返回系统时间</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#返回系统日期与时间" class="sidebar-link reco-side-返回系统日期与时间" data-v-cb1513f6>返回系统日期与时间</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#存储过程" class="sidebar-link reco-side-存储过程" data-v-cb1513f6>存储过程</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#视图" class="sidebar-link reco-side-视图" data-v-cb1513f6>视图</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#事务" class="sidebar-link reco-side-事务" data-v-cb1513f6>事务</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#索引" class="sidebar-link reco-side-索引" data-v-cb1513f6>索引</a></li><li class="level-2" data-v-cb1513f6><a href="/views/xi-tong/2023/mysqlji-chu.html#基于命令行的mysql" class="sidebar-link reco-side-基于命令行的mysql" data-v-cb1513f6>基于命令行的mysql</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div data-v-70e90cde><div class="reco-bgm-panel" data-v-70e90cde><audio id="bgm" src="https://sugarys.oss-cn-beijing.aliyuncs.com/bgmusic/music.mp3" data-v-70e90cde></audio> <div class="reco-float-box" style="bottom:10px;z-index:999999;display:none;" data-v-70e90cde data-v-6046dea2 data-v-70e90cde><img src="https://sugarys.oss-cn-beijing.aliyuncs.com/bgmusic/music.png" data-v-70e90cde></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-70e90cde data-v-6046dea2 data-v-70e90cde><div class="reco-bgm-cover" style="background-image:url(https://sugarys.oss-cn-beijing.aliyuncs.com/bgmusic/music.png);" data-v-70e90cde><div class="mini-operation" style="display:none;" data-v-70e90cde><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-70e90cde></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-70e90cde></i></div> <div class="falut-message" style="display:none;" data-v-70e90cde>播放失败</div></div> <div class="reco-bgm-info" data-v-70e90cde data-v-6046dea2 data-v-70e90cde><div class="info-box" data-v-70e90cde><i class="reco-bgm reco-bgm-music music" data-v-70e90cde></i>悬溺
            </div> <div class="info-box" data-v-70e90cde><i class="reco-bgm reco-bgm-artist" data-v-70e90cde></i>葛东琪
            </div> <div class="reco-bgm-progress" data-v-70e90cde><div class="progress-bar" data-v-70e90cde><div class="bar" data-v-70e90cde></div></div></div> <div class="reco-bgm-operation" data-v-70e90cde><i class="reco-bgm reco-bgm-last last" data-v-70e90cde></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-70e90cde></i> <i class="reco-bgm reco-bgm-play play" data-v-70e90cde></i> <i class="reco-bgm reco-bgm-next next" data-v-70e90cde></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-70e90cde></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-70e90cde></i> <div class="volume-bar" data-v-70e90cde><div class="bar" data-v-70e90cde></div></div></div></div> <div class="reco-bgm-left-box" data-v-70e90cde data-v-6046dea2 data-v-70e90cde><i class="reco-bgm reco-bgm-left" data-v-70e90cde></i></div></div></div></div><!----><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div></div></div>
    <script src="/assets/js/app.e969e95b.js" defer></script><script src="/assets/js/3.094725b1.js" defer></script><script src="/assets/js/1.ff76c098.js" defer></script><script src="/assets/js/24.000fb0a0.js" defer></script><script src="/assets/js/9.601bab32.js" defer></script>
  </body>
</html>
